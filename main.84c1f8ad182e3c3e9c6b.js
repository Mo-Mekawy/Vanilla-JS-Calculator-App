"use strict";(self.webpackChunkcalculaterapp=self.webpackChunkcalculaterapp||[]).push([[179],{595:function(){var t="INUMBER",e="IOP1",r="IOP2",n="IOP3",s="IVAR",i="IVARNAME",o="IFUNCALL",a="IFUNDEF",p="IEXPR",u="IEXPREVAL",h="IMEMBER",c="IENDSTATEMENT",l="IARRAY";function f(t,e){this.type=t,this.value=null!=e?e:0}function v(t){return new f(e,t)}function y(t){return new f(r,t)}function d(t){return new f(n,t)}function x(o,a,u,c,v){for(var y,d,w,m,E=[],g=[],k=0;k<o.length;k++){var M=o[k],b=M.type;if(b===t||b===i)Array.isArray(M.value)?E.push.apply(E,x(M.value.map((function(e){return new f(t,e)})).concat(new f(l,M.value.length)),a,u,c,v)):E.push(M);else if(b===s&&v.hasOwnProperty(M.value))M=new f(t,v[M.value]),E.push(M);else if(b===r&&E.length>1)d=E.pop(),y=E.pop(),m=u[M.value],M=new f(t,m(y.value,d.value)),E.push(M);else if(b===n&&E.length>2)w=E.pop(),d=E.pop(),y=E.pop(),"?"===M.value?E.push(y.value?d.value:w.value):(m=c[M.value],M=new f(t,m(y.value,d.value,w.value)),E.push(M));else if(b===e&&E.length>0)y=E.pop(),m=a[M.value],M=new f(t,m(y.value)),E.push(M);else if(b===p){for(;E.length>0;)g.push(E.shift());g.push(new f(p,x(M.value,a,u,c,v)))}else if(b===h&&E.length>0)y=E.pop(),E.push(new f(t,y.value[M.value]));else{for(;E.length>0;)g.push(E.shift());g.push(M)}}for(;E.length>0;)g.push(E.shift());return g}function w(t,i,o){for(var a=[],u=0;u<t.length;u++){var h=t[u],c=h.type;if(c===s&&h.value===i)for(var l=0;l<o.tokens.length;l++){var x,m=o.tokens[l];x=m.type===e?v(m.value):m.type===r?y(m.value):m.type===n?d(m.value):new f(m.type,m.value),a.push(x)}else c===p?a.push(new f(p,w(h.value,i,o))):a.push(h)}return a}function m(f,v,y){var d,x,w,M,b,A,O=[];if(g(f))return k(f,y);for(var T=f.length,C=0;C<T;C++){var N=f[C],S=N.type;if(S===t||S===i)O.push(N.value);else if(S===r)x=O.pop(),d=O.pop(),"and"===N.value?O.push(!!d&&!!m(x,v,y)):"or"===N.value?O.push(!!d||!!m(x,v,y)):"="===N.value?(M=v.binaryOps[N.value],O.push(M(d,m(x,v,y),y))):(M=v.binaryOps[N.value],O.push(M(k(d,y),k(x,y))));else if(S===n)w=O.pop(),x=O.pop(),d=O.pop(),"?"===N.value?O.push(m(d?x:w,v,y)):(M=v.ternaryOps[N.value],O.push(M(k(d,y),k(x,y),k(w,y))));else if(S===s)if(N.value in v.functions)O.push(v.functions[N.value]);else if(N.value in v.unaryOps&&v.parser.isOperatorEnabled(N.value))O.push(v.unaryOps[N.value]);else{var L=y[N.value];if(void 0===L)throw new Error("undefined variable: "+N.value);O.push(L)}else if(S===e)d=O.pop(),M=v.unaryOps[N.value],O.push(M(k(d,y)));else if(S===o){for(A=N.value,b=[];A-- >0;)b.unshift(k(O.pop(),y));if(!(M=O.pop()).apply||!M.call)throw new Error(M+" is not a function");O.push(M.apply(void 0,b))}else if(S===a)O.push(function(){for(var t=O.pop(),e=[],r=N.value;r-- >0;)e.unshift(O.pop());var n=O.pop(),s=function(){for(var r=Object.assign({},y),n=0,s=e.length;n<s;n++)r[e[n]]=arguments[n];return m(t,v,r)};return Object.defineProperty(s,"name",{value:n,writable:!1}),y[n]=s,s}());else if(S===p)O.push(E(N,v));else if(S===u)O.push(N);else if(S===h)d=O.pop(),O.push(d[N.value]);else if(S===c)O.pop();else{if(S!==l)throw new Error("invalid Expression");for(A=N.value,b=[];A-- >0;)b.unshift(O.pop());O.push(b)}}if(O.length>1)throw new Error("invalid Expression (parity)");return 0===O[0]?0:k(O[0],y)}function E(t,e,r){return g(t)?t:{type:u,value:function(r){return m(t.value,e,r)}}}function g(t){return t&&t.type===u}function k(t,e){return g(t)?t.value(e):t}function M(u,f){for(var v,y,d,x,w,m,E=[],g=0;g<u.length;g++){var k=u[g],A=k.type;if(A===t)"number"==typeof k.value&&k.value<0?E.push("("+k.value+")"):Array.isArray(k.value)?E.push("["+k.value.map(b).join(", ")+"]"):E.push(b(k.value));else if(A===r)y=E.pop(),v=E.pop(),x=k.value,f?"^"===x?E.push("Math.pow("+v+", "+y+")"):"and"===x?E.push("(!!"+v+" && !!"+y+")"):"or"===x?E.push("(!!"+v+" || !!"+y+")"):"||"===x?E.push("(function(a,b){ return Array.isArray(a) && Array.isArray(b) ? a.concat(b) : String(a) + String(b); }(("+v+"),("+y+")))"):"=="===x?E.push("("+v+" === "+y+")"):"!="===x?E.push("("+v+" !== "+y+")"):"["===x?E.push(v+"[("+y+") | 0]"):E.push("("+v+" "+x+" "+y+")"):"["===x?E.push(v+"["+y+"]"):E.push("("+v+" "+x+" "+y+")");else if(A===n){if(d=E.pop(),y=E.pop(),v=E.pop(),"?"!==(x=k.value))throw new Error("invalid Expression");E.push("("+v+" ? "+y+" : "+d+")")}else if(A===s||A===i)E.push(k.value);else if(A===e)v=E.pop(),"-"===(x=k.value)||"+"===x?E.push("("+x+v+")"):f?"not"===x?E.push("(!"+v+")"):"!"===x?E.push("fac("+v+")"):E.push(x+"("+v+")"):"!"===x?E.push("("+v+"!)"):E.push("("+x+" "+v+")");else if(A===o){for(m=k.value,w=[];m-- >0;)w.unshift(E.pop());x=E.pop(),E.push(x+"("+w.join(", ")+")")}else if(A===a){for(y=E.pop(),m=k.value,w=[];m-- >0;)w.unshift(E.pop());v=E.pop(),f?E.push("("+v+" = function("+w.join(", ")+") { return "+y+" })"):E.push("("+v+"("+w.join(", ")+") = "+y+")")}else if(A===h)v=E.pop(),E.push(v+"."+k.value);else if(A===l){for(m=k.value,w=[];m-- >0;)w.unshift(E.pop());E.push("["+w.join(", ")+"]")}else if(A===p)E.push("("+M(k.value,f)+")");else if(A!==c)throw new Error("invalid Expression")}return E.length>1&&(E=f?[E.join(",")]:[E.join(";")]),String(E[0])}function b(t){return"string"==typeof t?JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029"):t}function A(t,e){for(var r=0;r<t.length;r++)if(t[r]===e)return!0;return!1}function O(t,e,r){for(var n=!!(r=r||{}).withMembers,o=null,a=0;a<t.length;a++){var u=t[a];u.type===s||u.type===i?n||A(e,u.value)?null!==o?(A(e,o)||e.push(o),o=u.value):o=u.value:e.push(u.value):u.type===h&&n&&null!==o?o+="."+u.value:u.type===p?O(u.value,e,r):null!==o&&(A(e,o)||e.push(o),o=null)}null===o||A(e,o)||e.push(o)}function T(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}f.prototype.toString=function(){switch(this.type){case t:case e:case r:case n:case s:case i:case c:return this.value;case o:return"CALL "+this.value;case a:return"DEF "+this.value;case l:return"ARRAY "+this.value;case h:return"."+this.value;default:return"Invalid Instruction"}},T.prototype.simplify=function(t){return t=t||{},new T(x(this.tokens,this.unaryOps,this.binaryOps,this.ternaryOps,t),this.parser)},T.prototype.substitute=function(t,e){return e instanceof T||(e=this.parser.parse(String(e))),new T(w(this.tokens,t,e),this.parser)},T.prototype.evaluate=function(t){return t=t||{},m(this.tokens,this,t)},T.prototype.toString=function(){return M(this.tokens,!1)},T.prototype.symbols=function(t){t=t||{};var e=[];return O(this.tokens,e,t),e},T.prototype.variables=function(t){t=t||{};var e=[];O(this.tokens,e,t);var r=this.functions;return e.filter((function(t){return!(t in r)}))},T.prototype.toJSFunction=function(t,e){var r=this,n=new Function(t,"with(this.functions) with (this.ternaryOps) with (this.binaryOps) with (this.unaryOps) { return "+M(this.simplify(e).tokens,!0)+"; }");return function(){return n.apply(r,arguments)}};var C="TEOF",N="TOP",S="TNUMBER",L="TSTRING",I="TPAREN",F="TBRACKET",P="TCOMMA",q="TNAME",R="TSEMICOLON";function U(t,e,r){this.type=t,this.value=e,this.index=r}function j(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}U.prototype.toString=function(){return this.type+": "+this.value},j.prototype.newToken=function(t,e,r){return new U(t,e,null!=r?r:this.pos)},j.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},j.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},j.prototype.next=function(){return this.pos>=this.expression.length?this.newToken(C,"EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},j.prototype.isString=function(){var t=!1,e=this.pos,r=this.expression.charAt(e);if("'"===r||'"'===r)for(var n=this.expression.indexOf(r,e+1);n>=0&&this.pos<this.expression.length;){if(this.pos=n+1,"\\"!==this.expression.charAt(n-1)){var s=this.expression.substring(e+1,n);this.current=this.newToken(L,this.unescape(s),e),t=!0;break}n=this.expression.indexOf(r,n+1)}return t},j.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return("("===t||")"===t)&&(this.current=this.newToken(I,t),this.pos++,!0)},j.prototype.isBracket=function(){var t=this.expression.charAt(this.pos);return!("["!==t&&"]"!==t||!this.isOperatorEnabled("["))&&(this.current=this.newToken(F,t),this.pos++,!0)},j.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(P,","),this.pos++,!0)},j.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken(R,";"),this.pos++,!0)},j.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()&&(e===this.pos||"_"!==r&&"."!==r&&(r<"0"||r>"9")))break}if(e>t){var n=this.expression.substring(t,e);if(n in this.consts)return this.current=this.newToken(S,this.consts[n]),this.pos+=n.length,!0}return!1},j.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()&&(e===this.pos||"_"!==r&&(r<"0"||r>"9")))break}if(e>t){var n=this.expression.substring(t,e);if(this.isOperatorEnabled(n)&&(n in this.binaryOps||n in this.unaryOps||n in this.ternaryOps))return this.current=this.newToken(N,n),this.pos+=n.length,!0}return!1},j.prototype.isName=function(){for(var t=this.pos,e=t,r=!1;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()){if(e===this.pos&&("$"===n||"_"===n)){"_"===n&&(r=!0);continue}if(e===this.pos||!r||"_"!==n&&(n<"0"||n>"9"))break}else r=!0}if(r){var s=this.expression.substring(t,e);return this.current=this.newToken(q,s),this.pos+=s.length,!0}return!1},j.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);!(" "!==e&&"\t"!==e&&"\n"!==e&&"\r"!==e||(t=!0,this.pos++,this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var B=/^[0-9a-f]{4}$/i;function $(t,e,r){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==r.allowMemberAccess}j.prototype.unescape=function(t){var e=t.indexOf("\\");if(e<0)return t;for(var r=t.substring(0,e);e>=0;){var n=t.charAt(++e);switch(n){case"'":r+="'";break;case'"':r+='"';break;case"\\":r+="\\";break;case"/":r+="/";break;case"b":r+="\b";break;case"f":r+="\f";break;case"n":r+="\n";break;case"r":r+="\r";break;case"t":r+="\t";break;case"u":var s=t.substring(e+1,e+5);B.test(s)||this.parseError("Illegal escape sequence: \\u"+s),r+=String.fromCharCode(parseInt(s,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+n+'"')}++e;var i=t.indexOf("\\",e);r+=t.substring(e,i<0?t.length:i),e=i}return r},j.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},j.prototype.isRadixInteger=function(){var t,e,r=this.pos;if(r>=this.expression.length-2||"0"!==this.expression.charAt(r))return!1;if(++r,"x"===this.expression.charAt(r))t=16,e=/^[0-9a-f]$/i,++r;else{if("b"!==this.expression.charAt(r))return!1;t=2,e=/^[01]$/i,++r}for(var n=!1,s=r;r<this.expression.length;){var i=this.expression.charAt(r);if(!e.test(i))break;r++,n=!0}return n&&(this.current=this.newToken(S,parseInt(this.expression.substring(s,r),t)),this.pos=r),n},j.prototype.isNumber=function(){for(var t,e=!1,r=this.pos,n=r,s=r,i=!1,o=!1;r<this.expression.length&&((t=this.expression.charAt(r))>="0"&&t<="9"||!i&&"."===t);)"."===t?i=!0:o=!0,r++,e=o;if(e&&(s=r),"e"===t||"E"===t){r++;for(var a=!0,p=!1;r<this.expression.length;){if(t=this.expression.charAt(r),!a||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;p=!0,a=!1}else a=!1;r++}p||(r=s)}return e?(this.current=this.newToken(S,parseFloat(this.expression.substring(n,r))),this.pos=r):this.pos=s,e},j.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if("+"===e||"-"===e||"*"===e||"/"===e||"%"===e||"^"===e||"?"===e||":"===e||"."===e)this.current=this.newToken(N,e);else if("∙"===e||"•"===e)this.current=this.newToken(N,"*");else if(">"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(N,">="),this.pos++):this.current=this.newToken(N,">");else if("<"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(N,"<="),this.pos++):this.current=this.newToken(N,"<");else if("|"===e){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(N,"||"),this.pos++}else if("="===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(N,"=="),this.pos++):this.current=this.newToken(N,e);else{if("!"!==e)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(N,"!="),this.pos++):this.current=this.newToken(N,e)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=t,!1)},j.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)},j.prototype.getCoordinates=function(){var t,e=0,r=-1;do{e++,t=this.pos-r,r=this.expression.indexOf("\n",r+1)}while(r>=0&&r<this.pos);return{line:e,column:t}},j.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+t)},$.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},$.prototype.tokenMatches=function(t,e){return void 0===e||(Array.isArray(e)?A(e,t.value):"function"==typeof e?e(t):t.value===e)},$.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},$.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},$.prototype.accept=function(t,e){return!(this.nextToken.type!==t||!this.tokenMatches(this.nextToken,e))&&(this.next(),!0)},$.prototype.expect=function(t,e){if(!this.accept(t,e)){var r=this.tokens.getCoordinates();throw new Error("parse error ["+r.line+":"+r.column+"]: Expected "+(e||t))}},$.prototype.parseAtom=function(e){var r=this.tokens.unaryOps;if(this.accept(q)||this.accept(N,(function(t){return t.value in r})))e.push(new f(s,this.current.value));else if(this.accept(S))e.push(new f(t,this.current.value));else if(this.accept(L))e.push(new f(t,this.current.value));else if(this.accept(I,"("))this.parseExpression(e),this.expect(I,")");else{if(!this.accept(F,"["))throw new Error("unexpected "+this.nextToken);if(this.accept(F,"]"))e.push(new f(l,0));else{var n=this.parseArrayList(e);e.push(new f(l,n))}}},$.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),this.parseUntilEndStatement(t,e)||this.pushExpression(t,e))},$.prototype.pushExpression=function(t,e){for(var r=0,n=e.length;r<n;r++)t.push(e[r])},$.prototype.parseUntilEndStatement=function(t,e){return!!this.accept(R)&&(!this.nextToken||this.nextToken.type===C||this.nextToken.type===I&&")"===this.nextToken.value||e.push(new f(c)),this.nextToken.type!==C&&this.parseExpression(e),t.push(new f(p,e)),!0)},$.prototype.parseArrayList=function(t){for(var e=0;!this.accept(F,"]");)for(this.parseExpression(t),++e;this.accept(P);)this.parseExpression(t),++e;return e},$.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept(N,"=");){var e=t.pop(),r=[],n=t.length-1;if(e.type!==o){if(e.type!==s&&e.type!==h)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(r),t.push(new f(i,e.value)),t.push(new f(p,r)),t.push(y("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var u=0,c=e.value+1;u<c;u++){var l=n-u;t[l].type===s&&(t[l]=new f(i,t[l].value))}this.parseVariableAssignmentExpression(r),t.push(new f(p,r)),t.push(new f(a,e.value))}}},$.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept(N,"?");){var e=[],r=[];this.parseConditionalExpression(e),this.expect(N,":"),this.parseConditionalExpression(r),t.push(new f(p,e)),t.push(new f(p,r)),t.push(d("?"))}},$.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(N,"or");){var e=[];this.parseAndExpression(e),t.push(new f(p,e)),t.push(y("or"))}},$.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept(N,"and");){var e=[];this.parseComparison(e),t.push(new f(p,e)),t.push(y("and"))}};var H=["==","!=","<","<=",">=",">","in"];$.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(N,H);){var e=this.current;this.parseAddSub(t),t.push(y(e.value))}};var V=["+","-","||"];$.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(N,V);){var e=this.current;this.parseTerm(t),t.push(y(e.value))}};var D=["*","/","%"];function _(t,e){return Number(t)+Number(e)}function W(t,e){return t-e}function G(t,e){return t*e}function J(t,e){return t/e}function X(t,e){return t%e}function Y(t,e){return Array.isArray(t)&&Array.isArray(e)?t.concat(e):""+t+e}function K(t,e){return t===e}function z(t,e){return t!==e}function Q(t,e){return t>e}function Z(t,e){return t<e}function tt(t,e){return t>=e}function et(t,e){return t<=e}function rt(t,e){return Boolean(t&&e)}function nt(t,e){return Boolean(t||e)}function st(t,e){return A(e,t)}function it(t){return(Math.exp(t)-Math.exp(-t))/2}function ot(t){return(Math.exp(t)+Math.exp(-t))/2}function at(t){return t===1/0?1:t===-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}function pt(t){return t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))}function ut(t){return Math.log(t+Math.sqrt(t*t-1))}function ht(t){return Math.log((1+t)/(1-t))/2}function ct(t){return Math.log(t)*Math.LOG10E}function lt(t){return-t}function ft(t){return!t}function vt(t){return t<0?Math.ceil(t):Math.floor(t)}function yt(t){return Math.random()*(t||1)}function dt(t){return mt(t+1)}$.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept(N,D);){var e=this.current;this.parseFactor(t),t.push(y(e.value))}},$.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;if(this.save(),this.accept(N,(function(t){return t.value in e}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===I&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(t);if(this.nextToken.type===R||this.nextToken.type===P||this.nextToken.type===C||this.nextToken.type===I&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(t)}var r=this.current;this.parseFactor(t),t.push(v(r.value))}else this.parseExponential(t)},$.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept(N,"^");)this.parseFactor(t),t.push(y("^"))},$.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept(N,"!");)t.push(v("!"))},$.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;if(this.accept(N,(function(t){return t.value in e}))){var r=this.current;this.parseAtom(t),t.push(v(r.value))}else for(this.parseMemberExpression(t);this.accept(I,"(");)if(this.accept(I,")"))t.push(new f(o,0));else{var n=this.parseArgumentList(t);t.push(new f(o,n))}},$.prototype.parseArgumentList=function(t){for(var e=0;!this.accept(I,")");)for(this.parseExpression(t),++e;this.accept(P);)this.parseExpression(t),++e;return e},$.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept(N,".")||this.accept(F,"[");){var e=this.current;if("."===e.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');this.expect(q),t.push(new f(h,this.current.value))}else{if("["!==e.value)throw new Error("unexpected symbol: "+e.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect(F,"]"),t.push(y("["))}}};var xt=4.7421875,wt=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function mt(t){var e,r;if(function(t){return isFinite(t)&&t===Math.round(t)}(t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(var n=t-2,s=t-1;n>1;)s*=n,n--;return 0===s&&(s=1),s}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*mt(1-t));if(t>=171.35)return 1/0;if(t>85){var i=t*t,o=i*t,a=o*t,p=a*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*i)-139/(51840*o)-571/(2488320*a)+163879/(209018880*p)+5246819/(75246796800*p*t))}--t,r=wt[0];for(var u=1;u<wt.length;++u)r+=wt[u]/(t+u);return e=t+xt+.5,Math.sqrt(2*Math.PI)*Math.pow(e,t+.5)*Math.exp(-e)*r}function Et(t){return Array.isArray(t)?t.length:String(t).length}function gt(){for(var t=0,e=0,r=0;r<arguments.length;r++){var n,s=Math.abs(arguments[r]);e<s?(t=t*(n=e/s)*n+1,e=s):t+=s>0?(n=s/e)*n:s}return e===1/0?1/0:e*Math.sqrt(t)}function kt(t,e,r){return t?e:r}function Mt(t,e){return void 0===e||0==+e?Math.round(t):(t=+t,e=-+e,isNaN(t)||"number"!=typeof e||e%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-e:-e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+e:e))))}function bt(t,e,r){return r&&(r[t]=e),e}function At(t,e){return t[0|e]}function Ot(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)}function Tt(t){return 1===arguments.length&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)}function Ct(t,e){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map((function(e,r){return t(e,r)}))}function Nt(t,e,r){if("function"!=typeof t)throw new Error("First argument to fold is not a function");if(!Array.isArray(r))throw new Error("Second argument to fold is not an array");return r.reduce((function(e,r,n){return t(e,r,n)}),e)}function St(t,e){if("function"!=typeof t)throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter((function(e,r){return t(e,r)}))}function Lt(t,e){if(!Array.isArray(e)&&"string"!=typeof e)throw new Error("Second argument to indexOf is not a string or array");return e.indexOf(t)}function It(t,e){if(!Array.isArray(e))throw new Error("Second argument to join is not an array");return e.join(t)}function Ft(t){return(t>0)-(t<0)||+t}var Pt=1/3;function qt(t){return t<0?-Math.pow(-t,Pt):Math.pow(t,Pt)}function Rt(t){return Math.exp(t)-1}function Ut(t){return Math.log(1+t)}function jt(t){return Math.log(t)/Math.LN2}function Bt(t){this.options=t||{},this.unaryOps={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:Math.sinh||it,cosh:Math.cosh||ot,tanh:Math.tanh||at,asinh:Math.asinh||pt,acosh:Math.acosh||ut,atanh:Math.atanh||ht,sqrt:Math.sqrt,cbrt:Math.cbrt||qt,log:Math.log,log2:Math.log2||jt,ln:Math.log,lg:Math.log10||ct,log10:Math.log10||ct,expm1:Math.expm1||Rt,log1p:Math.log1p||Ut,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:Math.trunc||vt,"-":lt,"+":Number,exp:Math.exp,not:ft,length:Et,"!":dt,sign:Math.sign||Ft},this.binaryOps={"+":_,"-":W,"*":G,"/":J,"%":X,"^":Math.pow,"||":Y,"==":K,"!=":z,">":Q,"<":Z,">=":tt,"<=":et,and:rt,or:nt,in:st,"=":bt,"[":At},this.ternaryOps={"?":kt},this.functions={random:yt,fac:dt,min:Tt,max:Ot,hypot:Math.hypot||gt,pyt:Math.hypot||gt,pow:Math.pow,atan2:Math.atan2,if:kt,gamma:mt,roundTo:Mt,map:Ct,fold:Nt,filter:St,indexOf:Lt,join:It},this.consts={E:Math.E,PI:Math.PI,true:!0,false:!1}}Bt.prototype.parse=function(t){var e=[],r=new $(this,new j(this,t),{allowMemberAccess:this.options.allowMemberAccess});return r.parseExpression(e),r.expect(C,"EOF"),new T(e,this)},Bt.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var $t=new Bt;Bt.parse=function(t){return $t.parse(t)},Bt.evaluate=function(t,e){return $t.parse(t).evaluate(e)};var Ht={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",and:"logical",or:"logical",not:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};Bt.prototype.isOperatorEnabled=function(t){var e=function(t){return Ht.hasOwnProperty(t)?Ht[t]:t}(t),r=this.options.operators||{};return!(e in r)||!!r[e]};class Vt{static checkArgumentErrors(t,e){if(void 0===t||void 0===e)throw new SyntaxError("Missing argument (should pass two Dom elements)");if(!(t instanceof Element&&e instanceof Element))throw new TypeError("Both parameters must be a Dom Element");if(t===e)throw new TypeError("Both parameters must be different elements")}constructor(t,e){Vt.checkArgumentErrors(t,e),this.inputEl=t,this.outputEl=e,this.clearAll()}comput(){if(""===this.input)return 0;try{const t=Bt.evaluate(this.input);if(Number.isNaN(t))throw new Error("NaN");return t}catch(t){return function(t){const e=t=>`<span style='color:#F44336;word-wrap:normal;word-break:normal'>${t}</span>`;return t instanceof Error&&void 0!==t.message?"nan"===t.message.toLowerCase()?e("Math error. Not a Number"):t.message.includes("(")||t.message.includes(")")?e("syntax Error. Please check your parentheses."):"unexpected TEOF: EOF"===t.message?e("syntax Error. Please write the next operand."):t.message.includes("function")?e("syntax Error. An operator must separate between parentheses and numbers"):t.message.includes(".")?e("Invalid value. Single dot without a number."):t.message.includes("Expected TNAME")||t.message.includes("Expected EOF")?e("syntax Error. unexpected symbol at end of equation."):e("syntax Error. Please check your equation."):e("Unknown Error occurred")}(t)}}appendInput(t){if("string"!=typeof t)return;if("."===t&&!function(t){if("string"!=typeof t)throw new TypeError("Invalid argument type (accepts only strings)!");if(""===t)return!0;const e=t.trim(),r=e[e.length-1];return"."!==r&&(!!["+","-","/","*","(",")"].includes(r)||null===e.match(/\.\d+$/))}(this.input))return;const e=t=>["+","-","/","*"].includes(t);e(t)&&e(this.input[this.input.length-1])&&this.removeLast(),this.input+=t,this.inputEl.innerHTML+=function(t){const e={"+":"+","/":"÷","*":"×","-":"−"};return")"===t||"("===t?`<span class="bracket"> ${t} </span>`:e[t]?`<span class="operator"> ${e[t]} </span>`:t}(t)}displayOutput(t){if("string"==typeof t&&Number.isNaN(parseFloat(t)))return void(this.outputEl.innerHTML=t);const e="string"==typeof t?parseFloat(t):t;this.outputEl.innerHTML=e.toLocaleString("en-US")}removeLast(){""!==this.input&&(this.input=this.input.slice(0,-1),1!==this.inputEl.lastChild.nodeType?this.inputEl.innerHTML=this.inputEl.innerHTML.slice(0,-1):this.inputEl.removeChild(this.inputEl.lastChild))}clearAll(){this.input="",this.output="",this.inputEl.innerHTML="",this.outputEl.innerHTML=""}}!function(){const t=document.querySelector("[data-clear]"),e=document.querySelector("[data-delete]"),r=document.querySelector("[data-equals]"),n=document.querySelectorAll("[data-key]"),s=document.querySelector("[data-input]"),i=document.querySelector("[data-output]");!function(t){const e=new MutationObserver((e=>{e.forEach((e=>{"childList"===e.type&&t.scrollTo({left:t.scrollWidth})}))}));e.observe(t,{childList:!0})}(s);const o=new Vt(s,i);n.forEach((t=>{t.addEventListener("click",(t=>{o.appendInput(t.target.dataset.key)}))})),r.addEventListener("click",(()=>{const t=o.comput();o.displayOutput(t)})),t.addEventListener("click",(()=>{o.clearAll()})),e.addEventListener("click",(()=>{o.removeLast()})),document.addEventListener("keydown",(n=>{switch(n.key){case"Enter":case"=":r.click();break;case"Backspace":e.click();break;case"Escape":t.click();break;default:/^[0-9.+\-*/()]$/.test(n.key)&&document.querySelector(`[data-key="${n.key}"]`).click()}}))}()}},function(t){var e;e=595,t(t.s=e)}]);
//# sourceMappingURL=main.84c1f8ad182e3c3e9c6b.js.map